pipeline{
    agent any

     tools {
            jdk "1.8"
            maven "3.8.4"
        }

parameters{
booleanParams(defaultValue: true, description: 'run tests', name: 'UITests')
}
    stages {
        stage('UITests') {
        when{
        expression{
               return params.UITests
            }
        }
            steps {
                sh "mvn -Dmaven.test.failure.ignore=true clean test"
            }
post {
          always {
            script {
              allure([
                includeProperties: false,
                jdk: '',
                properties: [],
                reportBuildPolicy: 'ALWAYS',
                results: [[path: 'target/allure-results']]
              ])
    }
  }
 }
}