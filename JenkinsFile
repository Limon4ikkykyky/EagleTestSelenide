pipeline{
    agent any
/*
     tools {
            jdk "1.8"
            maven "3.8.4"
        }
        */

/*parameters{
booleanParam(defaultValue: true, description: 'run tests', name: 'UITests')
}*/

    stages {
           stage ('Compile Stage') {

               steps {
                   withMaven(maven : 'apache-maven-3.6.1') {
                       bat 'mvn clean compile'
                   }
               }
           }
           stage ('Testing Stage') {

               steps {
                   withMaven(maven : 'apache-maven-3.6.1') {
                       bat 'mvn test'
                   }
               }
           }
post {
          always {
            script {
              allure([
                includeProperties: false,
                jdk: '',
                properties: [],
                reportBuildPolicy: 'ALWAYS',
                results: [[path: 'target/allure-results']]
              ])
     }
    }
   }
  }
 }
}
}
}
}
}
